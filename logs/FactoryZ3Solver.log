2025-07-01 16:35:57,043 - FactoryZ3Solver - INFO - FactoryZ3Solver
2025-07-01 16:35:57,044 - FactoryZ3Solver - DEBUG - block data: {'electronic-circuit': {'tree': <FactorioProductionTree.FactorioProductionTree object at 0x000002EC098D6F60>, 'production_data': {'electronic-circuit': {'amount_per_minute': 120, 'assemblers': 2, 'input_inserters': [{'id': 'copper-cable', 'inserters': 3, 'amount': 3}, {'id': 'iron-plate', 'inserters': 1, 'amount': 1}], 'belts': 1, 'capacity': 0}, 'copper-cable': {'amount_per_minute': 360.0, 'capacity': 0}, 'iron-plate': {'amount_per_minute': 120.0, 'capacity': 0}}, 'num_factories': 1, 'png': "E:/Programmieren/Bachelor-Thesis/Modules/electronic-circuit_120_['copper-cable']_module.png", 'json': "E:/Programmieren/Bachelor-Thesis/Modules/electronic-circuit_120_['copper-cable']_module.json"}, 'copper-cable': {'tree': <FactorioProductionTree.FactorioProductionTree object at 0x000002EC0987AC30>, 'production_data': {'copper-cable': {'amount_per_minute': 300, 'assemblers': 3, 'input_inserters': [{'id': 'copper-plate', 'inserters': 2, 'amount': 1}], 'belts': 1, 'capacity': 0}, 'copper-plate': {'amount_per_minute': 150.0, 'capacity': 0}}, 'num_factories': 1, 'png': 'E:/Programmieren/Bachelor-Thesis/Modules/copper-cable_300_[]_module.png', 'json': 'E:/Programmieren/Bachelor-Thesis/Modules/copper-cable_300_[]_module.json'}}
2025-07-01 16:35:57,055 - FactoryZ3Solver - INFO - Loaded recipe data successfully
2025-07-01 16:35:57,055 - FactoryZ3Solver - INFO - Calculating item complexity rankings
2025-07-01 16:35:57,056 - FactoryZ3Solver - INFO - Calculated complexity for 214 items
2025-07-01 16:35:57,056 - FactoryZ3Solver - DEBUG - Solver and data structures initialized
2025-07-01 16:35:57,058 - FactoryZ3Solver - INFO - Added fixed input gate for copper-plate at (0, 29)
2025-07-01 16:35:57,060 - FactoryZ3Solver - INFO - Added fixed input gate for iron-plate at (4, 29)
2025-07-01 16:35:57,061 - FactoryZ3Solver - INFO - Added fixed output gate for electronic-circuit at (7, 29)
2025-07-01 16:35:57,061 - FactoryZ3Solver - INFO - Building constraints
2025-07-01 16:35:57,062 - FactoryZ3Solver - INFO - Building blocks
2025-07-01 16:35:57,062 - FactoryZ3Solver - DEBUG - Processing block electronic-circuit
2025-07-01 16:35:57,062 - FactoryZ3Solver - DEBUG - Block electronic-circuit dimensions: width=16, height=10, num_factories=1
2025-07-01 16:35:57,062 - FactoryZ3Solver - DEBUG - Created Block with ID Block_electronic-circuit_0_0
2025-07-01 16:35:57,063 - FactoryZ3Solver - DEBUG - Added input gate electronic-circuit_input_copper-cable_0_0 for item copper-cable
2025-07-01 16:35:57,063 - FactoryZ3Solver - DEBUG - Added output gate electronic-circuit_output_copper-cable_0_0 for item copper-cable
2025-07-01 16:35:57,063 - FactoryZ3Solver - DEBUG - Added input gate electronic-circuit_input_iron-plate_0_0 for item iron-plate
2025-07-01 16:35:57,063 - FactoryZ3Solver - DEBUG - Added output gate electronic-circuit_output_iron-plate_0_0 for item iron-plate
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Added input gate electronic-circuit_input_electronic-circuit_0_0 for item electronic-circuit
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Added output gate electronic-circuit_output_electronic-circuit_0_0 for item electronic-circuit
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 added to blocks list
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Processing block copper-cable
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Block copper-cable dimensions: width=16, height=10, num_factories=1
2025-07-01 16:35:57,064 - FactoryZ3Solver - DEBUG - Created Block with ID Block_copper-cable_1_0
2025-07-01 16:35:57,066 - FactoryZ3Solver - DEBUG - Added input gate copper-cable_input_copper-plate_1_0 for item copper-plate
2025-07-01 16:35:57,066 - FactoryZ3Solver - DEBUG - Added output gate copper-cable_output_copper-plate_1_0 for item copper-plate
2025-07-01 16:35:57,067 - FactoryZ3Solver - DEBUG - Added input gate copper-cable_input_copper-cable_1_0 for item copper-cable
2025-07-01 16:35:57,068 - FactoryZ3Solver - DEBUG - Added output gate copper-cable_output_copper-cable_1_0 for item copper-cable
2025-07-01 16:35:57,068 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 added to blocks list
2025-07-01 16:35:57,068 - FactoryZ3Solver - INFO - Analyzing block compatibility
2025-07-01 16:35:57,068 - FactoryZ3Solver - DEBUG -   Item copper-cable:
2025-07-01 16:35:57,069 - FactoryZ3Solver - DEBUG -     Producer Block_electronic-circuit_0_0 output x-positions: [0]
2025-07-01 16:35:57,069 - FactoryZ3Solver - DEBUG -     Consumer Block_copper-cable_1_0 input x-positions: [9]
2025-07-01 16:35:57,069 - FactoryZ3Solver - DEBUG -     Misaligned: output_x=0 != input_x=9
2025-07-01 16:35:57,078 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 can connect to Block_copper-cable_1_0:
2025-07-01 16:35:57,078 - FactoryZ3Solver - DEBUG -   - Aligned items: []
2025-07-01 16:35:57,078 - FactoryZ3Solver - DEBUG -   - Misaligned items: ['copper-cable']
2025-07-01 16:35:57,078 - FactoryZ3Solver - DEBUG -   - Aligned gates: 0
2025-07-01 16:35:57,078 - FactoryZ3Solver - DEBUG -   - Spacing needed: 1
2025-07-01 16:35:57,079 - FactoryZ3Solver - DEBUG - Skipping already analyzed pair: ('Block_copper-cable_1_0', 'Block_electronic-circuit_0_0')
2025-07-01 16:35:57,079 - FactoryZ3Solver - INFO - Adding bound constraints
2025-07-01 16:35:57,086 - FactoryZ3Solver - DEBUG - Added bound constraints for all blocks
2025-07-01 16:35:57,086 - FactoryZ3Solver - INFO - Adding overlap constraints
2025-07-01 16:35:57,088 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_copper-plate and fixed_block_external_input_iron-plate
2025-07-01 16:35:57,089 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_copper-plate and fixed_block_external_output_electronic-circuit
2025-07-01 16:35:57,091 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_copper-plate and Block_electronic-circuit_0_0
2025-07-01 16:35:57,094 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_copper-plate and Block_copper-cable_1_0
2025-07-01 16:35:57,097 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_iron-plate and fixed_block_external_output_electronic-circuit
2025-07-01 16:35:57,098 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_iron-plate and Block_electronic-circuit_0_0
2025-07-01 16:35:57,101 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_input_iron-plate and Block_copper-cable_1_0
2025-07-01 16:35:57,102 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_output_electronic-circuit and Block_electronic-circuit_0_0
2025-07-01 16:35:57,104 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks fixed_block_external_output_electronic-circuit and Block_copper-cable_1_0
2025-07-01 16:35:57,105 - FactoryZ3Solver - DEBUG - Added non-overlapping constraints between blocks Block_electronic-circuit_0_0 and Block_copper-cable_1_0
2025-07-01 16:35:57,105 - FactoryZ3Solver - INFO - Adding gate relative position constraints
2025-07-01 16:35:57,106 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate external_input_copper-plate in block fixed_block_external_input_copper-plate
2025-07-01 16:35:57,107 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate external_input_iron-plate in block fixed_block_external_input_iron-plate
2025-07-01 16:35:57,108 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate external_output_electronic-circuit in block fixed_block_external_output_electronic-circuit
2025-07-01 16:35:57,108 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate electronic-circuit_input_copper-cable_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,108 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate electronic-circuit_input_iron-plate_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,110 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate electronic-circuit_input_electronic-circuit_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,111 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate electronic-circuit_output_copper-cable_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,112 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate electronic-circuit_output_iron-plate_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,113 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate electronic-circuit_output_electronic-circuit_0_0 in block Block_electronic-circuit_0_0
2025-07-01 16:35:57,114 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate copper-cable_input_copper-plate_1_0 in block Block_copper-cable_1_0
2025-07-01 16:35:57,115 - FactoryZ3Solver - DEBUG - Added relative position constraints for input gate copper-cable_input_copper-cable_1_0 in block Block_copper-cable_1_0
2025-07-01 16:35:57,117 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate copper-cable_output_copper-plate_1_0 in block Block_copper-cable_1_0
2025-07-01 16:35:57,117 - FactoryZ3Solver - DEBUG - Added relative position constraints for output gate copper-cable_output_copper-cable_1_0 in block Block_copper-cable_1_0
2025-07-01 16:35:57,118 - FactoryZ3Solver - INFO - Adding simplified block alignment constraints with complexity-based positioning
2025-07-01 16:35:57,118 - FactoryZ3Solver - INFO - Adding simplified complexity-based positioning constraints
2025-07-01 16:35:57,118 - FactoryZ3Solver - DEBUG - Block fixed_block_external_output_electronic-circuit produces electronic-circuit with complexity 3
2025-07-01 16:35:57,118 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 has multiple outputs {'electronic-circuit', 'copper-cable', 'iron-plate'}, selected electronic-circuit as primary
2025-07-01 16:35:57,118 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 produces electronic-circuit with complexity 3
2025-07-01 16:35:57,119 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 has multiple outputs {'copper-cable', 'copper-plate'}, selected copper-cable as primary
2025-07-01 16:35:57,119 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 produces copper-cable with complexity 2
2025-07-01 16:35:57,119 - FactoryZ3Solver - INFO - Fixed lowest complexity block Block_copper-cable_1_0 (complexity 2) at Y=16
2025-07-01 16:35:57,119 - FactoryZ3Solver - INFO - Distance from I/O points: 3 units (based on 3 I/O points)
2025-07-01 16:35:57,119 - FactoryZ3Solver - INFO - Other blocks will be positioned using existing spacing and alignment constraints
2025-07-01 16:35:57,120 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 has multiple outputs {'electronic-circuit', 'copper-cable', 'iron-plate'}, selected electronic-circuit as primary
2025-07-01 16:35:57,121 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 has multiple outputs {'copper-cable', 'copper-plate'}, selected copper-cable as primary
2025-07-01 16:35:57,121 - FactoryZ3Solver - DEBUG - Complexity-based ordering: Block_electronic-circuit_0_0 above Block_copper-cable_1_0 (lower complexity Block_copper-cable_1_0 closer to I/O)
2025-07-01 16:35:57,122 - FactoryZ3Solver - INFO - Added alignment constraints for 1 block pairs
2025-07-01 16:35:57,122 - FactoryZ3Solver - INFO - Adding I/O gate constraints with complexity-aware positioning
2025-07-01 16:35:57,122 - FactoryZ3Solver - INFO - Fixed gate for item 'copper-plate' (complexity: 1)
2025-07-01 16:35:57,122 - FactoryZ3Solver - INFO - Fixed gate for item 'iron-plate' (complexity: 1)
2025-07-01 16:35:57,123 - FactoryZ3Solver - INFO - Fixed gate for item 'electronic-circuit' (complexity: 3)
2025-07-01 16:35:57,131 - FactoryZ3Solver - DEBUG - Added I/O gate constraints for all edges with complexity awareness
2025-07-01 16:35:57,131 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 has multiple outputs {'electronic-circuit', 'copper-cable', 'iron-plate'}, selected electronic-circuit as primary
2025-07-01 16:35:57,131 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 has multiple outputs {'copper-cable', 'copper-plate'}, selected copper-cable as primary
2025-07-01 16:35:57,133 - FactoryZ3Solver - INFO - Solving factory layout with Z3 using simplified constraints...
2025-07-01 16:35:57,180 - FactoryZ3Solver - INFO - Z3 solver finished in 0.05 seconds with result: sat
2025-07-01 16:35:57,181 - FactoryZ3Solver - DEBUG - Block fixed_block_external_input_copper-plate position: (0, 29), size: 1x1
2025-07-01 16:35:57,182 - FactoryZ3Solver - DEBUG - Block fixed_block_external_input_iron-plate position: (4, 29), size: 1x1
2025-07-01 16:35:57,182 - FactoryZ3Solver - DEBUG - Block fixed_block_external_output_electronic-circuit position: (7, 29), size: 1x1
2025-07-01 16:35:57,183 - FactoryZ3Solver - DEBUG - Block Block_electronic-circuit_0_0 position: (0, 5), size: 16x10
2025-07-01 16:35:57,185 - FactoryZ3Solver - DEBUG - Block Block_copper-cable_1_0 position: (0, 16), size: 16x10
2025-07-01 16:35:57,185 - FactoryZ3Solver - INFO - Post-processing: Determining optimal gate connections with complexity prioritization
2025-07-01 16:35:57,187 - FactoryZ3Solver - INFO - Connection priority order based on complexity: ['copper-plate', 'iron-plate', 'copper-cable', 'electronic-circuit']
2025-07-01 16:35:57,188 - FactoryZ3Solver - DEBUG - Connecting item 'copper-plate' (complexity: 1)
2025-07-01 16:35:57,193 - FactoryZ3Solver - DEBUG - Connecting item 'iron-plate' (complexity: 1)
2025-07-01 16:35:57,194 - FactoryZ3Solver - DEBUG - Connecting item 'copper-cable' (complexity: 2)
2025-07-01 16:35:57,197 - FactoryZ3Solver - DEBUG - Connecting item 'electronic-circuit' (complexity: 3)
2025-07-01 16:35:57,197 - FactoryZ3Solver - DEBUG - Skipped connection for electronic-circuit_output_electronic-circuit_0_0 as all inputs are from the same block
2025-07-01 16:35:57,198 - FactoryZ3Solver - INFO - Determined 5 optimal gate connections
